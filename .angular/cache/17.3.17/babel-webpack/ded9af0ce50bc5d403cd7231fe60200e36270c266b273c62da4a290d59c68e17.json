{"ast":null,"code":"import { map } from 'rxjs/operators';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/cart.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nfunction CartComponent_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\", 10);\n    i0.ɵɵelement(1, \"img\", 11);\n    i0.ɵɵelementStart(2, \"div\", 12)(3, \"div\", 13);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"div\", 14);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"input\", 15);\n    i0.ɵɵlistener(\"change\", function CartComponent_div_5_Template_input_change_7_listener($event) {\n      const item_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.updateQuantity(item_r2.id, +$event.target.value));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"i\", 16);\n    i0.ɵɵlistener(\"click\", function CartComponent_div_5_Template_i_click_8_listener() {\n      const item_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.removeItem(item_r2.id));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const item_r2 = ctx.$implicit;\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"src\", item_r2.image || \"/assets/img/product1.jpeg\", i0.ɵɵsanitizeUrl)(\"alt\", item_r2.name);\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(item_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"$\", item_r2.price, \"\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"value\", item_r2.quantity);\n  }\n}\nfunction CartComponent_div_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 17)(1, \"p\");\n    i0.ɵɵtext(2, \"Your cart is empty\");\n    i0.ɵɵelementEnd()();\n  }\n}\nexport class CartComponent {\n  constructor(cartService, router) {\n    this.cartService = cartService;\n    this.router = router;\n    this.cartItems$ = this.cartService.cartItems$;\n    this.total$ = this.cartService.cartItems$.pipe(map(() => this.cartService.getTotal()));\n    this.isCartOpen$ = this.cartService.isCartOpen$;\n  }\n  ngOnInit() {}\n  closeCart() {\n    this.cartService.isCartOpen = false;\n  }\n  removeItem(id) {\n    this.cartService.removeFromCart(id);\n  }\n  updateQuantity(id, quantity) {\n    this.cartService.updateQuantity(id, quantity);\n  }\n  payNow() {\n    if (this.cartService.getCartCount() > 0) {\n      this.router.navigate(['/success']);\n      this.cartService.clearCart();\n      this.closeCart();\n    }\n  }\n  static {\n    this.ɵfac = function CartComponent_Factory(t) {\n      return new (t || CartComponent)(i0.ɵɵdirectiveInject(i1.CartService), i0.ɵɵdirectiveInject(i2.Router));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: CartComponent,\n      selectors: [[\"app-cart\"]],\n      decls: 19,\n      vars: 16,\n      consts: [[1, \"cart\"], [1, \"cart-title\"], [1, \"cart-content\"], [\"class\", \"cart-box\", 4, \"ngFor\", \"ngForOf\"], [\"class\", \"empty-cart\", 4, \"ngIf\"], [1, \"total\"], [1, \"total-title\"], [1, \"total-price\"], [\"type\", \"button\", 1, \"btn-buy\", 3, \"click\", \"disabled\"], [\"id\", \"close-cart\", 1, \"bx\", \"bx-x\", 3, \"click\"], [1, \"cart-box\"], [1, \"cart-img\", 3, \"src\", \"alt\"], [1, \"detail-box\"], [1, \"cart-product-title\"], [1, \"cart-price\"], [\"type\", \"number\", \"min\", \"1\", 1, \"cart-quantity\", 3, \"change\", \"value\"], [1, \"bx\", \"bxs-trash-alt\", \"cart-remove\", 3, \"click\"], [1, \"empty-cart\"]],\n      template: function CartComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0);\n          i0.ɵɵpipe(1, \"async\");\n          i0.ɵɵelementStart(2, \"h2\", 1);\n          i0.ɵɵtext(3, \"Your Cart\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"div\", 2);\n          i0.ɵɵtemplate(5, CartComponent_div_5_Template, 9, 5, \"div\", 3);\n          i0.ɵɵpipe(6, \"async\");\n          i0.ɵɵtemplate(7, CartComponent_div_7_Template, 3, 0, \"div\", 4);\n          i0.ɵɵpipe(8, \"async\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"div\", 5)(10, \"div\", 6);\n          i0.ɵɵtext(11, \"Total\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"div\", 7);\n          i0.ɵɵtext(13);\n          i0.ɵɵpipe(14, \"async\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(15, \"button\", 8);\n          i0.ɵɵpipe(16, \"async\");\n          i0.ɵɵlistener(\"click\", function CartComponent_Template_button_click_15_listener() {\n            return ctx.payNow();\n          });\n          i0.ɵɵtext(17, \" Pay Now \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"i\", 9);\n          i0.ɵɵlistener(\"click\", function CartComponent_Template_i_click_18_listener() {\n            return ctx.closeCart();\n          });\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          let tmp_2_0;\n          let tmp_4_0;\n          i0.ɵɵclassProp(\"active\", i0.ɵɵpipeBind1(1, 6, ctx.isCartOpen$));\n          i0.ɵɵadvance(5);\n          i0.ɵɵproperty(\"ngForOf\", i0.ɵɵpipeBind1(6, 8, ctx.cartItems$));\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"ngIf\", ((tmp_2_0 = i0.ɵɵpipeBind1(8, 10, ctx.cartItems$)) == null ? null : tmp_2_0.length) === 0);\n          i0.ɵɵadvance(6);\n          i0.ɵɵtextInterpolate1(\"$\", i0.ɵɵpipeBind1(14, 12, ctx.total$), \"\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", ((tmp_4_0 = i0.ɵɵpipeBind1(16, 14, ctx.cartItems$)) == null ? null : tmp_4_0.length) === 0);\n        }\n      },\n      dependencies: [i3.NgForOf, i3.NgIf, i3.AsyncPipe],\n      styles: [\".cart[_ngcontent-%COMP%] {\\n    position: fixed;\\n    top: 0;\\n    width: 360px;\\n    right: -100%;\\n    min-height: 100vh;\\n    padding: 20px;\\n    background: var(--container-color);\\n    box-shadow: -2px 0 4px hsla(0, 4%, 15%, 10%);\\n    transition: 0.3s cubic-bezier(0.075, 0.82, 0.165, 1);\\n    z-index: 1000;\\n}\\n\\n.cart.active[_ngcontent-%COMP%] {\\n    right: 0;\\n    transition: 0.3s cubic-bezier(0.075, 0.82, 0.165, 1);\\n}\\n\\n.cart-title[_ngcontent-%COMP%] {\\n    text-align: center;\\n    font-size: 1.5rem;\\n    font-weight: 600;\\n    margin-top: 2rem;\\n}\\n\\n.cart-content[_ngcontent-%COMP%] {\\n    max-height: 60vh;\\n    overflow-y: auto;\\n}\\n\\n.empty-cart[_ngcontent-%COMP%] {\\n    text-align: center;\\n    padding: 2rem;\\n    color: var(--text-color);\\n}\\n\\n.total[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: flex-end;\\n    margin-top: 1.5rem;\\n    border-top: 1px solid var(--text-color);\\n}\\n\\n.total-title[_ngcontent-%COMP%] {\\n    font-size: 1.2rem;\\n    font-weight: 600;\\n    margin-top: 1rem;\\n}\\n\\n.total-price[_ngcontent-%COMP%] {\\n    font-size: 1.075rem;\\n    margin: 1rem 0 0 0.7rem;\\n}\\n\\n.btn-buy[_ngcontent-%COMP%] {\\n    display: flex;\\n    justify-content: center;\\n    margin: 1.5rem auto 0 auto;\\n    padding: 12px 20px;\\n    width: 50%;\\n    text-align: center;\\n    border: none;\\n    border-radius: 2rem;\\n    background: var(--text-color);\\n    color: var(--bg-color);\\n    font-size: 1rem;\\n    font-style: italic;\\n    font-weight: 500;\\n    cursor: pointer;\\n}\\n\\n.btn-buy[_ngcontent-%COMP%]:disabled {\\n    opacity: 0.5;\\n    cursor: not-allowed;\\n}\\n\\n#close-cart[_ngcontent-%COMP%] {\\n    position: absolute;\\n    top: 1rem;\\n    right: 0.8rem;\\n    font-size: 2rem;\\n    color: var(--text-color);\\n    cursor: pointer;\\n}\\n\\n.cart-box[_ngcontent-%COMP%] {\\n    display: grid;\\n    grid-template-columns: 32% 50% 18%;\\n    align-items: center;\\n    gap: 1rem;\\n    margin-top: 1rem;\\n}\\n\\n.cart-img[_ngcontent-%COMP%] {\\n    width: 100%;\\n    height: 100%;\\n    object-fit: contain;\\n    object-position: center;\\n    padding: 10px;\\n}\\n\\n.detail-box[_ngcontent-%COMP%] {\\n    display: grid;\\n    row-gap: 0.5rem;\\n}\\n\\n.cart-product-title[_ngcontent-%COMP%] {\\n    font-size: 1rem;\\n    font-weight: 500;\\n    text-transform: uppercase;\\n}\\n\\n.cart-price[_ngcontent-%COMP%] {\\n    font-weight: 500;\\n}\\n\\n.cart-quantity[_ngcontent-%COMP%] {\\n    border: 1px solid var(--text-color);\\n    outline-color: var(--main-color);\\n    width: 2.8rem;\\n    text-align: center;\\n    font-size: 1rem;\\n    border-radius: 4px;\\n    background: var(--container-color);\\n    color: var(--bg-color);\\n}\\n\\n.cart-remove[_ngcontent-%COMP%] {\\n    font-size: 24px;\\n    cursor: pointer;\\n    color: var(--main-color);\\n}\\n\\n\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvc2hhcmVkL2NhcnQvY2FydC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksZUFBZTtJQUNmLE1BQU07SUFDTixZQUFZO0lBQ1osWUFBWTtJQUNaLGlCQUFpQjtJQUNqQixhQUFhO0lBQ2Isa0NBQWtDO0lBQ2xDLDRDQUE0QztJQUM1QyxvREFBb0Q7SUFDcEQsYUFBYTtBQUNqQjs7QUFFQTtJQUNJLFFBQVE7SUFDUixvREFBb0Q7QUFDeEQ7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsaUJBQWlCO0lBQ2pCLGdCQUFnQjtJQUNoQixnQkFBZ0I7QUFDcEI7O0FBRUE7SUFDSSxnQkFBZ0I7SUFDaEIsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksa0JBQWtCO0lBQ2xCLGFBQWE7SUFDYix3QkFBd0I7QUFDNUI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IseUJBQXlCO0lBQ3pCLGtCQUFrQjtJQUNsQix1Q0FBdUM7QUFDM0M7O0FBRUE7SUFDSSxpQkFBaUI7SUFDakIsZ0JBQWdCO0lBQ2hCLGdCQUFnQjtBQUNwQjs7QUFFQTtJQUNJLG1CQUFtQjtJQUNuQix1QkFBdUI7QUFDM0I7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsdUJBQXVCO0lBQ3ZCLDBCQUEwQjtJQUMxQixrQkFBa0I7SUFDbEIsVUFBVTtJQUNWLGtCQUFrQjtJQUNsQixZQUFZO0lBQ1osbUJBQW1CO0lBQ25CLDZCQUE2QjtJQUM3QixzQkFBc0I7SUFDdEIsZUFBZTtJQUNmLGtCQUFrQjtJQUNsQixnQkFBZ0I7SUFDaEIsZUFBZTtBQUNuQjs7QUFFQTtJQUNJLFlBQVk7SUFDWixtQkFBbUI7QUFDdkI7O0FBRUE7SUFDSSxrQkFBa0I7SUFDbEIsU0FBUztJQUNULGFBQWE7SUFDYixlQUFlO0lBQ2Ysd0JBQXdCO0lBQ3hCLGVBQWU7QUFDbkI7O0FBRUE7SUFDSSxhQUFhO0lBQ2Isa0NBQWtDO0lBQ2xDLG1CQUFtQjtJQUNuQixTQUFTO0lBQ1QsZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksV0FBVztJQUNYLFlBQVk7SUFDWixtQkFBbUI7SUFDbkIsdUJBQXVCO0lBQ3ZCLGFBQWE7QUFDakI7O0FBRUE7SUFDSSxhQUFhO0lBQ2IsZUFBZTtBQUNuQjs7QUFFQTtJQUNJLGVBQWU7SUFDZixnQkFBZ0I7SUFDaEIseUJBQXlCO0FBQzdCOztBQUVBO0lBQ0ksZ0JBQWdCO0FBQ3BCOztBQUVBO0lBQ0ksbUNBQW1DO0lBQ25DLGdDQUFnQztJQUNoQyxhQUFhO0lBQ2Isa0JBQWtCO0lBQ2xCLGVBQWU7SUFDZixrQkFBa0I7SUFDbEIsa0NBQWtDO0lBQ2xDLHNCQUFzQjtBQUMxQjs7QUFFQTtJQUNJLGVBQWU7SUFDZixlQUFlO0lBQ2Ysd0JBQXdCO0FBQzVCIiwic291cmNlc0NvbnRlbnQiOlsiLmNhcnQge1xyXG4gICAgcG9zaXRpb246IGZpeGVkO1xyXG4gICAgdG9wOiAwO1xyXG4gICAgd2lkdGg6IDM2MHB4O1xyXG4gICAgcmlnaHQ6IC0xMDAlO1xyXG4gICAgbWluLWhlaWdodDogMTAwdmg7XHJcbiAgICBwYWRkaW5nOiAyMHB4O1xyXG4gICAgYmFja2dyb3VuZDogdmFyKC0tY29udGFpbmVyLWNvbG9yKTtcclxuICAgIGJveC1zaGFkb3c6IC0ycHggMCA0cHggaHNsYSgwLCA0JSwgMTUlLCAxMCUpO1xyXG4gICAgdHJhbnNpdGlvbjogMC4zcyBjdWJpYy1iZXppZXIoMC4wNzUsIDAuODIsIDAuMTY1LCAxKTtcclxuICAgIHotaW5kZXg6IDEwMDA7XHJcbn1cclxuXHJcbi5jYXJ0LmFjdGl2ZSB7XHJcbiAgICByaWdodDogMDtcclxuICAgIHRyYW5zaXRpb246IDAuM3MgY3ViaWMtYmV6aWVyKDAuMDc1LCAwLjgyLCAwLjE2NSwgMSk7XHJcbn1cclxuXHJcbi5jYXJ0LXRpdGxlIHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGZvbnQtc2l6ZTogMS41cmVtO1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgIG1hcmdpbi10b3A6IDJyZW07XHJcbn1cclxuXHJcbi5jYXJ0LWNvbnRlbnQge1xyXG4gICAgbWF4LWhlaWdodDogNjB2aDtcclxuICAgIG92ZXJmbG93LXk6IGF1dG87XHJcbn1cclxuXHJcbi5lbXB0eS1jYXJ0IHtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIHBhZGRpbmc6IDJyZW07XHJcbiAgICBjb2xvcjogdmFyKC0tdGV4dC1jb2xvcik7XHJcbn1cclxuXHJcbi50b3RhbCB7XHJcbiAgICBkaXNwbGF5OiBmbGV4O1xyXG4gICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuICAgIG1hcmdpbi10b3A6IDEuNXJlbTtcclxuICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCB2YXIoLS10ZXh0LWNvbG9yKTtcclxufVxyXG5cclxuLnRvdGFsLXRpdGxlIHtcclxuICAgIGZvbnQtc2l6ZTogMS4ycmVtO1xyXG4gICAgZm9udC13ZWlnaHQ6IDYwMDtcclxuICAgIG1hcmdpbi10b3A6IDFyZW07XHJcbn1cclxuXHJcbi50b3RhbC1wcmljZSB7XHJcbiAgICBmb250LXNpemU6IDEuMDc1cmVtO1xyXG4gICAgbWFyZ2luOiAxcmVtIDAgMCAwLjdyZW07XHJcbn1cclxuXHJcbi5idG4tYnV5IHtcclxuICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcclxuICAgIG1hcmdpbjogMS41cmVtIGF1dG8gMCBhdXRvO1xyXG4gICAgcGFkZGluZzogMTJweCAyMHB4O1xyXG4gICAgd2lkdGg6IDUwJTtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgIGJvcmRlcjogbm9uZTtcclxuICAgIGJvcmRlci1yYWRpdXM6IDJyZW07XHJcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS10ZXh0LWNvbG9yKTtcclxuICAgIGNvbG9yOiB2YXIoLS1iZy1jb2xvcik7XHJcbiAgICBmb250LXNpemU6IDFyZW07XHJcbiAgICBmb250LXN0eWxlOiBpdGFsaWM7XHJcbiAgICBmb250LXdlaWdodDogNTAwO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG4uYnRuLWJ1eTpkaXNhYmxlZCB7XHJcbiAgICBvcGFjaXR5OiAwLjU7XHJcbiAgICBjdXJzb3I6IG5vdC1hbGxvd2VkO1xyXG59XHJcblxyXG4jY2xvc2UtY2FydCB7XHJcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICB0b3A6IDFyZW07XHJcbiAgICByaWdodDogMC44cmVtO1xyXG4gICAgZm9udC1zaXplOiAycmVtO1xyXG4gICAgY29sb3I6IHZhcigtLXRleHQtY29sb3IpO1xyXG4gICAgY3Vyc29yOiBwb2ludGVyO1xyXG59XHJcblxyXG4uY2FydC1ib3gge1xyXG4gICAgZGlzcGxheTogZ3JpZDtcclxuICAgIGdyaWQtdGVtcGxhdGUtY29sdW1uczogMzIlIDUwJSAxOCU7XHJcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgZ2FwOiAxcmVtO1xyXG4gICAgbWFyZ2luLXRvcDogMXJlbTtcclxufVxyXG5cclxuLmNhcnQtaW1nIHtcclxuICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgaGVpZ2h0OiAxMDAlO1xyXG4gICAgb2JqZWN0LWZpdDogY29udGFpbjtcclxuICAgIG9iamVjdC1wb3NpdGlvbjogY2VudGVyO1xyXG4gICAgcGFkZGluZzogMTBweDtcclxufVxyXG5cclxuLmRldGFpbC1ib3gge1xyXG4gICAgZGlzcGxheTogZ3JpZDtcclxuICAgIHJvdy1nYXA6IDAuNXJlbTtcclxufVxyXG5cclxuLmNhcnQtcHJvZHVjdC10aXRsZSB7XHJcbiAgICBmb250LXNpemU6IDFyZW07XHJcbiAgICBmb250LXdlaWdodDogNTAwO1xyXG4gICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcclxufVxyXG5cclxuLmNhcnQtcHJpY2Uge1xyXG4gICAgZm9udC13ZWlnaHQ6IDUwMDtcclxufVxyXG5cclxuLmNhcnQtcXVhbnRpdHkge1xyXG4gICAgYm9yZGVyOiAxcHggc29saWQgdmFyKC0tdGV4dC1jb2xvcik7XHJcbiAgICBvdXRsaW5lLWNvbG9yOiB2YXIoLS1tYWluLWNvbG9yKTtcclxuICAgIHdpZHRoOiAyLjhyZW07XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICBmb250LXNpemU6IDFyZW07XHJcbiAgICBib3JkZXItcmFkaXVzOiA0cHg7XHJcbiAgICBiYWNrZ3JvdW5kOiB2YXIoLS1jb250YWluZXItY29sb3IpO1xyXG4gICAgY29sb3I6IHZhcigtLWJnLWNvbG9yKTtcclxufVxyXG5cclxuLmNhcnQtcmVtb3ZlIHtcclxuICAgIGZvbnQtc2l6ZTogMjRweDtcclxuICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIGNvbG9yOiB2YXIoLS1tYWluLWNvbG9yKTtcclxufVxyXG5cclxuIl0sInNvdXJjZVJvb3QiOiIifQ== */\"]\n    });\n  }\n}","map":{"version":3,"names":["map","i0","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵlistener","CartComponent_div_5_Template_input_change_7_listener","$event","item_r2","ɵɵrestoreView","_r1","$implicit","ctx_r2","ɵɵnextContext","ɵɵresetView","updateQuantity","id","target","value","CartComponent_div_5_Template_i_click_8_listener","removeItem","ɵɵadvance","ɵɵproperty","image","ɵɵsanitizeUrl","name","ɵɵtextInterpolate","ɵɵtextInterpolate1","price","quantity","CartComponent","constructor","cartService","router","cartItems$","total$","pipe","getTotal","isCartOpen$","ngOnInit","closeCart","isCartOpen","removeFromCart","payNow","getCartCount","navigate","clearCart","ɵɵdirectiveInject","i1","CartService","i2","Router","selectors","decls","vars","consts","template","CartComponent_Template","rf","ctx","ɵɵtemplate","CartComponent_div_5_Template","CartComponent_div_7_Template","CartComponent_Template_button_click_15_listener","CartComponent_Template_i_click_18_listener","ɵɵclassProp","ɵɵpipeBind1","tmp_2_0","length","tmp_4_0"],"sources":["D:\\FILE CUA TRUONG\\Tự Học Đi concho\\Ecomerc web with Payments\\src\\app\\shared\\cart\\cart.component.ts","D:\\FILE CUA TRUONG\\Tự Học Đi concho\\Ecomerc web with Payments\\src\\app\\shared\\cart\\cart.component.html"],"sourcesContent":["import { Component, OnInit, Input } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { CartService, CartItem } from '../../services/cart.service';\r\nimport { Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\n@Component({\r\n  selector: 'app-cart',\r\n  templateUrl: './cart.component.html',\r\n  styleUrls: ['./cart.component.css']\r\n})\r\nexport class CartComponent implements OnInit {\r\n  cartItems$: Observable<CartItem[]>;\r\n  total$: Observable<number>;\r\n  isCartOpen$: Observable<boolean>;\r\n\r\n  constructor(\r\n    public cartService: CartService,\r\n    private router: Router\r\n  ) {\r\n    this.cartItems$ = this.cartService.cartItems$;\r\n    this.total$ = this.cartService.cartItems$.pipe(\r\n      map(() => this.cartService.getTotal())\r\n    );\r\n    this.isCartOpen$ = this.cartService.isCartOpen$;\r\n  }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n  closeCart() {\r\n    this.cartService.isCartOpen = false;\r\n  }\r\n\r\n  removeItem(id: number) {\r\n    this.cartService.removeFromCart(id);\r\n  }\r\n\r\n  updateQuantity(id: number, quantity: number) {\r\n    this.cartService.updateQuantity(id, quantity);\r\n  }\r\n\r\n  payNow() {\r\n    if (this.cartService.getCartCount() > 0) {\r\n      this.router.navigate(['/success']);\r\n      this.cartService.clearCart();\r\n      this.closeCart();\r\n    }\r\n  }\r\n}\r\n\r\n","<div class=\"cart\" [class.active]=\"isCartOpen$ | async\">\r\n    <h2 class=\"cart-title\">Your Cart</h2>\r\n    \r\n    <div class=\"cart-content\">\r\n        <div class=\"cart-box\" *ngFor=\"let item of cartItems$ | async\">\r\n            <img [src]=\"item.image || '/assets/img/product1.jpeg'\" [alt]=\"item.name\" class=\"cart-img\">\r\n            <div class=\"detail-box\">\r\n                <div class=\"cart-product-title\">{{ item.name }}</div>\r\n                <div class=\"cart-price\">${{ item.price }}</div>\r\n                <input \r\n                    type=\"number\" \r\n                    [value]=\"item.quantity\" \r\n                    class=\"cart-quantity\"\r\n                    min=\"1\"\r\n                    (change)=\"updateQuantity(item.id, +$any($event.target).value)\">\r\n            </div>\r\n            <i class='bx bxs-trash-alt cart-remove' (click)=\"removeItem(item.id)\"></i>\r\n        </div>\r\n        \r\n        <div *ngIf=\"(cartItems$ | async)?.length === 0\" class=\"empty-cart\">\r\n            <p>Your cart is empty</p>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"total\">\r\n        <div class=\"total-title\">Total</div>\r\n        <div class=\"total-price\">${{ total$ | async }}</div>\r\n    </div>\r\n    \r\n    <button type=\"button\" class=\"btn-buy\" (click)=\"payNow()\" [disabled]=\"(cartItems$ | async)?.length === 0\">\r\n        Pay Now\r\n    </button>\r\n    \r\n    <i class='bx bx-x' id=\"close-cart\" (click)=\"closeCart()\"></i>\r\n</div>\r\n\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}